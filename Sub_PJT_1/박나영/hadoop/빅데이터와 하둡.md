### 빅데이터와 하둡



##### 하둡

- 대용량 데이터를 분산 처리할 수 있는 자바 기반 오픈소스 프레임 워크
- DBMS 아님
- HDFS에 데이터를 저장
- 맵리듀스를 이용해 데이터를 처리



##### 하둡기술

- **분산저장(Hadoop Distributed File System)**: 빅데이터 파일을 여러 대의 서버에 분산 저장하기 위한 파일시스템
- **분산처리(MapReduce)**: 각 서버에서 데이터를 분산처리하는 분산병렬처리를 위한 분석시스템



##### 하둡의 역사

- 더그커팅(아파치 루씬 창시자)에 의해 시작
- 아파치 너치에서 시작



`Lucene`

- 아파치 최상위 Project 중 하나

- ```
  스파이더(spider), 크롤러(crawler)라고 불리는 로봇이 웹에 있는 웹 페이지를 방문해서 모든 내용을 읽어옴
  검색에 적합하도록 일정하게 가공하여 저장(색인화 + 문서 db에 저장)
  ```



 `DFS`

- 클라이언트 측에서 서버에 저장된 데이터에 접근하여,
- 마치 자신에게 저장되어있는 데이터인 것 처럼, 처리할 수 있는 클라이언트/서버 기반의 애플리케이션





##### 분산 파일 시스템

- 컴퓨터 클러스터: 여러 대의 컴퓨터들이 연결되어 하나의 시스템처럼 동작하는 컴퓨터들의 집합
- 분산 파일 시스템: 물리적으로 서로 다른 컴퓨터끼리 네트워크로 연결하여, 사용자에게 동일하게 보이는 파일 접근 공간을 제공해 주는 시스템
- Scale up / Scale out
  - Scale up: 한대를 계속 똑똑하게 키우는 것
  - Scale out: 여러대가 나눠서 데이터를 처리, 분산 처리 방법
- 블레이드 서버를 사용함
  - 프로세서가 장착된 회로판, 기억장치, 네트워크 접속부로 구성 된 아주 얇은 컴퓨터
  - 수백, 수천개가 연결되어 작동



##### RDBMS와 하둡

- 서로 대치 관계 X (보완 관계)
- 트랜잭션, 무결성 보장해야하는 데이터 처리 > RDBMS
- 배치성으로 데이터 저장 및 처리 > 하둡



##### Master-Slave 구조

slave 여러 대를 control 할 수 있는 master가 필요

![image-20210906150414753](C:\Users\multicampus\AppData\Roaming\Typora\typora-user-images\image-20210906150414753.png)





##### 블록 복제

default는 3개

데이터를 복제해서 저장한다.





##### 네임노드

- 메타데이터 관리
- 데이터노드 모니터링:  데이터노드는 네임노드에게 3초마다 하트비트를 전송해 데이터 노드의 실행 상태와 용량을 체크
- 블록관리: 장애가 발생한 데이터 노드의 블록을 새로운 데이터 노드에 복제ㅔ



##### 데이터노드

- 클라이언트가 HDFS에 저장하는 파일을 로컬 디스크에 유지





##### MapReduce

- 대용량 데이터 처리를 위한 분산 프로그래밍 모델
- **Map** : 흩어져있는 데이터를 key, value 형태로 연관성 있는 데이터 분류로 묶는 작업
- **Reduce** : Filtering과 Sorting을 거쳐 데이터를 추출, Map화한 작업 중 중복 데이터를 제거하고 원하는 데이터를 추출하는 작업
- 분산처리 기술과 관련 프레임워크를 의미
- 각 단계는 입출력에서 key-value 쌍을 가짐



![image-20210906165051492](C:\Users\multicampus\AppData\Roaming\Typora\typora-user-images\image-20210906165051492.png)

![image-20210906165352700](C:\Users\multicampus\AppData\Roaming\Typora\typora-user-images\image-20210906165352700.png)

